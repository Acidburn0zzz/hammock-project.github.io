<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Rest APIs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" style="padding:0px 15px" href="../">
                <img alt="Brand" src="/img/hammock_white.png" height="75" width="162">
            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../about.html">About</a></li>
                <li><a href="https://github.com/hammock-project">GitHub</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core Concepts <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="/guides/cdi_runtimes.html">CDI Runtimes</a></li>
                        <li><a href="/guides/packaging.html">Packaging</a></li>
                        <li><a href="/guides/webservers.html">WebServers</a></li>
                        <li><a href="/guides/rest-apis.html">Rest APIs</a></li>
                        <li><a href="/guides/databases.html">Databases</a></li>
                        <li><a href="/guides/jdk9.html">Java 9</a></li>
                        <li class="divider"></li>
                        <li><a href="/guides/related.html">Related Tools</a></li>
                    </ul>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>
<div class="container">	
	<div class="page-header">
		<h1>Rest APIs</h1>
	</div>

	<div class="sect1"> 
 <h2 id="building_your_first_rest_controller">Building your first Rest Controller</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Once you’ve gotten through <a href="/guides/cdi_runtimes.html">bootstrapping</a> and <a href="/guides/packaging.html">packaging</a> you’ll want to write your first controller.</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code>@RequestScoped
@Path("/")
public class MyController {
	@GET
	public Response handleRequest() {
		return Response.ok("Hello, World!").build();
	}
}</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>Simply add that class to your project and you’ll get a ready to use Rest API. If you make no other changes, simply <code>open <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></code> and you’ll see "Hello, World!".</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="server_components">Server Components</h2> 
 <div class="sectionbody"> 
  <div class="sect2"> 
   <h3 id="apache_cxf">Apache CXF</h3> 
   <div class="paragraph"> 
    <p>When you include the artifact <code>ws.ament.hammock:rest-cxf</code> Hammock uses Apache CXF 3.2, which includes support for JAX-RS 2.1. The modules provided out of the box from CXF include <code>cxf-integration-cdi</code> (CXF Core + CDI integration), <code>cxf-rt-rs-client</code> (CXF Client API), <code>cxf-rt-rs-sse</code> (CXF SSE), and <code>cxf-rt-transports-http</code> (CXF Transport over HTTP/Servlets). You’re free to include other modules as needed.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="jersey">Jersey</h3> 
   <div class="paragraph"> 
    <p>When you include the artifact <code>ws.ament.hammock:rest-jersey</code> Hammock uses Jersey 2.26, the reference implementation for JAX-RS 2.1. The modules provided by this integration are <code>jersey-cdi1x</code> (Jersey CDI Support), <code>jersey-container-servlet</code> (Jersey Servlet support &amp; Jersey Core), <code>jersey-cdi1x-servlet</code> (Jersey Servlet/CDI Integration), <code>jersey-media-sse</code> (Jersey SSE support) and <code>jersey-hk2</code> (Jersey/HK2 integration)</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="jboss_resteasy">JBoss RestEasy</h3> 
   <div class="paragraph"> 
    <p>When you include <code>ws.ament.hammock:rest-resteasy</code> Hammock uses RestEasy 3.1.4 which supports JAX-RS 2.0. This brings in the modules <code>resteasy-jaxrs</code> (Core JAX-RS runtime), <code>resteasy-cdi</code> (CDI integration), <code>resteasy-client</code> (Client API), and <code>resteasy-servlet-initializer</code> (Servlet integration).</p> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="client_side">Client Side</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Hammock supports JAX-RS clients as well as server components. Each implementation supports a bean that satisfies <code>@Inject Client</code> to get a reference to your client runtime. If you want to add configuration support to the client, to avoid having it in multiple places, you can add an observer method to the client.</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code>public void addProvider(@Observes @Configuring Client client) {
	client.register(MyProvider.class);
}</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>Which will add this provider to all clients bieng looked up.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="adding_media_support">Adding Media Support</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Automatic registration of JAX-RS providers is handled by the underlying JAX-RS implementation, for the server side components. In the case of Jersey, they use their internal <code>ForcedAutoDiscoverable</code> interface to register features. In RestEasy, providers are discovered via <code>ServiceLoader</code> for <code>MessageBodyReader</code> or <code>MessageBodyWriter</code> but others are not. CXF does not seem to discover anything by default.</p> 
  </div> 
  <div class="paragraph"> 
   <p>On the client side, RestEasy behaves the same way. Jersey and CXF do not seem to load providers this way automatically.</p> 
  </div> 
  <div class="paragraph"> 
   <p>If you add a dependency to <code>ws.ament.hammock:johnzon</code> the Apache Johnzon JSON-P and JSON-B providers will be registered automatically. This approach could be used in all of the JAX-RS implementations.</p> 
  </div> 
 </div> 
</div>

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2017 | Hammock Project | Hosted by GitHub | Baked with JBake | Styling with Bootstrap</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    
  </body>
</html>